---
import Footer from "@/components/layout/footer.astro";
import Header from "@/components/layout/header.astro";
import { MainNavigationMenu } from "@/components/main-navigation-menu";
import { buttonVariants } from "@/components/ui/button";
import { cn } from "@/lib/utils";
import BaseLayout from "./base-layout.astro";
import { SheetMobileNav } from "@/components/layout/sheet-mobile-nav";
import { navMenuConfig } from "@/config/nav-menu";
import { ThemeToggle } from "@/components/theme-toggle";
import Icon from "astro-icon";
import { homeConfig } from "@/config/home";
// import { marketingConfig } from "@/config/marketing";
// import MainNav from "@/components/layout/main-nav.astro";

type Props = {
	title: string;
	description?: string;
	mainClass?: string;
};

const { title, description, mainClass } = Astro.props;
---

<BaseLayout title={title} description={description}>
	<Header>
		<!-- if using only normals links  -->
		<!-- <MainNav items={marketingConfig.mainNav} slot="left-header" />
    <SheetMobileNav
      mainNavItems={marketingConfig.mainNav}
      slot="mobile-nav-header"
      client:load
    /> -->

		<!-- if use Navigation Menu on desktop -->
		<MainNavigationMenu slot="left-header" client:load />
		<SheetMobileNav
			sidebarNavItems={[...navMenuConfig.infoNav]}
			slot="mobile-nav-header"
			client:load
		/>

		<nav slot="right-header" class="flex flex-row gap-8">
			<ThemeToggle client:idle />

			<a
				href={homeConfig.url}
				target="_blank"
				rel="noreferrer"
				class={cn(
					buttonVariants({ variant: "secondary", size: "sm" }),
					"px-4"
				)}
			>
				<Icon name="dashdrop" class="mr-2 size-5" />
				DashDrop
			</a>
		</nav>
	</Header>

	<main class={cn(mainClass)}>
		<slot />
	</main>

	<Footer />
</BaseLayout>
